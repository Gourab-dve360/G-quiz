<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G-Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
            text-align: center;
            box-sizing: border-box;
            overflow-x: hidden; /* Prevent horizontal overflow */
        }

        /* Container for responsive design */
        #app {
            width: 100%;
            max-width: 800px;
            margin: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        .page {
            display: none; /* All pages are hidden by default */
        }

        .active {
            display: flex; /* Only the active page is displayed */
            flex-direction: column;
            align-items: center;
        }

        h1, h2, p {
            margin: 10px;
        }

        .logo {
            height: 100px;
            width: 250px;
            max-width: 250px;
            margin: 20px 0;
            border-radius: 5px;
        }

        input[type="text"] {
            padding: 10px;
            width: 80%;
            max-width: 300px;
            margin-bottom: 20px;
        }

        button {
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            transition: background-color 0.3s;
            width: 80%;
            max-width: 250px;
            margin: 10px 0;
        }

        button:hover {
            background-color: #0056b3;
        }

        /* Category selection styling */
        .categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
            width: 100%;
        }

        .category-btn {
            margin: 5px;
            width: 45%;
            max-width: 180px;
            box-sizing: border-box;
        }

        .selected {
            background-color: #28a745;
        }

        /* Score and timer styling */
        .score-timer {
            display: flex;
            justify-content: space-between;
            width: 100%;
            padding: 0 20px;
            font-size: 16px;
        }

        /* Result section styling */
        .result-section {
            margin: 20px 0;
            font-size: 20px;
            padding: 20px;
            border: 2px solid #007bff;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 600px;
            box-sizing: border-box;
        }

        /* Result heading styles */
        .result-heading {
            font-weight: bold;
            font-size: 24px;
            margin-bottom: 10px;
        }

        /* Flexbox for horizontal result buttons */
        .result-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            width: 100%;
            box-sizing: border-box;
        }

        /* Question box */
        .question-box {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
            font-size: 22px;
            text-align: left;
            width: 90%;
            max-width: 600px;
            box-sizing: border-box;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .correct-answer {
            background-color: #28a745;
            color: white;
        }

        .option-btn {
            padding: 10px;
            margin: 5px;
            width: 90%;
            max-width: 300px;
        }

        /* Responsive styles for larger screens */
        @media (min-width: 768px) {
            body {
                background-color: #e9ecef; /* Subtle background color */
            }

            h1 {
                font-size: 36px;
            }

            h2 {
                font-size: 28px;
            }

            p, .result-section, .score-timer {
                font-size: 22px;
            }

            button {
                font-size: 18px;
            }

            .question-box, .result-section {
                font-size: 24px;
                padding: 30px;
            }
        }

        /* Responsive styles for smaller screens */
        @media (max-width: 600px) {
            .categories {
                flex-direction: column;
            }

            .category-btn, .option-btn {
                width: 100%;
                font-size: 14px;
            }

            .result-section {
                font-size: 16px;
                padding: 15px;
            }

            .result-buttons button {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Home Page -->
        <div id="home-page" class="page active">
            <h1>Welcome to G-Quiz</h1>
            <img src="/G-quiz.logo.jpg" alt="Logo" class="logo">
            <p>Enter your Name:</p>
            <input type="text" id="user-name" placeholder="Your Name">
            <p>You have 10 Seconds to answer each question.</p>
            <button id="enter-btn">Enter</button>
            <h2 id="category-heading" style="display:none;">Select Category</h2>
            <div class="categories" id="category-options" style="display:none;">
                <button class="category-btn" data-category="Pipes and Cisterns">Pipes and Cisterns</button>
                <button class="category-btn" data-category="Probability">Probability</button>
                <button class="category-btn" data-category="Problems on Ages">Problems on Ages</button>
                <button class="category-btn" data-category="Profit and Loss">Profit and Loss</button>
            </div>
            <button id="start-btn" style="display:none;">Start Quiz</button>
            <button id="back-to-name-btn" style="display:none;">Back</button>
        </div>

        <!-- Quiz Page -->
        <div id="quiz-page" class="page">
            <h1 id="quiz-category"></h1>
            <div class="score-timer">
                <span id="score">Score: 0</span>
                <span id="timer">Time Left: 10s</span>
            </div>
            <h2 id="question-number"></h2>
            <div class="question-box" id="question"></div>
            <div id="options"></div>
            <button id="next-btn" style="display:none;">Next Question</button>
            <button id="submit-btn" style="display:none;">Submit</button>
        </div>

        <!-- Results Page -->
        <div id="results-page" class="page">
            <h1 class="result-heading">G-Quiz Results</h1>
            <div class="result-section">
                <p>Name: <span id="result-name"></span></p>
                <p>Total Time Taken: <span id="total-time"></span> seconds</p>
                <p>Attempted Questions: <span id="attempted-questions"></span></p>
                <p>Correct Answers: <span id="correct-answers"></span></p>
                <p>Wrong Answers: <span id="wrong-answers"></span></p>
                <p>Percentage: <span id="percentage"></span>%</p>
            </div>
            <div class="result-buttons">
                <button id="start-again-btn-results">Start Again</button>
                <button id="home-btn-results">Go to Home Page</button>
            </div>
        </div>
    </div>

    <script>
        const categories = {
            "Pipes and Cisterns": [
                { question: "What is the ratio of two pipes?", options: ["A", "B", "C", "D"], answer: 0 },
                { question: "If Pipe A fills in 10 hours, B in 15, together?", options: ["6 hours", "8 hours", "5 hours", "7 hours"], answer: 0 },
                { question: "Probability of drawing a red card?", options: ["1/2", "1/4", "1/13", "1/3"], answer: 0 },
                { question: "Getting a Heads or Tails?", options: ["1/2", "1", "1/3", "1/4"], answer: 1 },
                { question: "Probability of picking 2 at random?", options: ["1/10", "1/5", "1/6", "1/8"], answer: 2 },
                { question: "Any face card chosen is?", options: ["1/4", "1/6", "1/13", "1/3"], answer: 2 },
                { question: "Ace drawn from deck?", options: ["1/6", "1/3", "1/4", "1/13"], answer: 3 },
                { question: "2 dice rolled, total 7?", options: ["1/3", "1/6", "1/5", "1/8"], answer: 2 },
                { question: "Choosing heart from deck?", options: ["1/4", "1/13", "1/2", "1/3"], answer: 0 },
                { question: "Probability of even number roll?", options: ["1/2", "1/3", "1/4", "1/6"], answer: 0 },
                /* More sample questions */
            ],
            "Probability": [
                { question: "Probability of rolling a 1?", options: ["1/6", "1/2", "1/3", "1/4"], answer: 0 },
                { question: "Probability of drawing an Ace?", options: ["1/52", "1/13", "1/26", "1/39"], answer: 1 },
                { question: "Probability of drawing a red card?", options: ["1/2", "1/4", "1/13", "1/3"], answer: 0 },
                { question: "Getting a Heads or Tails?", options: ["1/2", "1", "1/3", "1/4"], answer: 1 },
                { question: "Probability of picking 2 at random?", options: ["1/10", "1/5", "1/6", "1/8"], answer: 2 },
                { question: "Any face card chosen is?", options: ["1/4", "1/6", "1/13", "1/3"], answer: 2 },
                { question: "Ace drawn from deck?", options: ["1/6", "1/3", "1/4", "1/13"], answer: 3 },
                { question: "2 dice rolled, total 7?", options: ["1/3", "1/6", "1/5", "1/8"], answer: 2 },
                { question: "Choosing heart from deck?", options: ["1/4", "1/13", "1/2", "1/3"], answer: 0 },
                { question: "Probability of even number roll?", options: ["1/2", "1/3", "1/4", "1/6"], answer: 0 },
                /* More sample questions */
            ],
            "Problems on Ages": [
                { question: "Age problem 1?", options: ["Option 1", "Option 2", "Option 3", "Option 4"], answer: 0 },
                { question: "Age problem 2?", options: ["Option 1", "Option 2", "Option 3", "Option 4"], answer: 1 },
                { question: "A's age is twice B's age. If B is 10, find A.", options: ["15", "20", "30", "25"], answer: 1 },
                { question: "Average age of siblings is 15. Total of 3 ages?", options: ["45", "40", "50", "60"], answer: 0 },
                { question: "If A is 3 times B, B is 10, find A.", options: ["20", "25", "30", "35"], answer: 2 },
                { question: "Ratio of ages 6:7; total is 39. Find younger.", options: ["18", "20", "22", "24"], answer: 1 },
                { question: "Sum of father's age 3 times son's; 60 yrs total?", options: ["50", "30", "45", "35"], answer: 1 },
                { question: "Mother's age is 4 times daughter's; she’s 40.", options: ["10", "20", "5", "15"], answer: 0 },
                { question: "Average of 5 family ages is 20. Sum?", options: ["100", "80", "90", "60"], answer: 0 },
                { question: "Brother is twice sister’s. Sister is 12. Brother?", options: ["20", "24", "15", "18"], answer: 1 }
            
                /* More sample questions */
            ],
            "Profit and Loss": [
                { question: "Profit or Loss problem 1?", options: ["Option 1", "Option 2", "Option 3", "Option 4"], answer: 0 },
                { question: "Profit or Loss problem 2?", options: ["Option 1", "Option 2", "Option 3", "Option 4"], answer: 2 },
                { question: "Selling at $150, profit $50, find cost.", options: ["100", "110", "130", "120"], answer: 0 },
                { question: "Discount $30 on $200, sale price?", options: ["150", "160", "170", "180"], answer: 2 },
                { question: "Profit of $60 on $300. Percent?", options: ["20%", "15%", "25%", "10%"], answer: 1 },
                { question: "Buying at $80, sold for $120. Gain?", options: ["25%", "50%", "30%", "40%"], answer: 1 },
                { question: "Selling price $150, cost $120, profit?", options: ["15%", "20%", "25%", "30%"], answer: 1 },
                { question: "If loss is $15 on $100, loss %?", options: ["10%", "15%", "20%", "25%"], answer: 0 },
                { question: "Profit of $50 on $200. Percent?", options: ["25%", "20%", "15%", "10%"], answer: 0 },
                { question: "Buy $60, sell $90, find profit %.", options: ["40%", "50%", "45%", "30%"], answer: 1 }
         
                /* More sample questions */
            ]
        };

        let userName = '';
        let selectedCategory = '';
        let score = 0;
        let questionIndex = 0;
        let timer;
        let totalTimeTaken = 0;
        let quizStartTime = 0;

        document.getElementById('enter-btn').addEventListener('click', () => {
            userName = document.getElementById('user-name').value;
            if (userName) {
                document.getElementById('category-heading').style.display = 'block'; 
                document.getElementById('category-options').style.display = 'flex'; 
                document.getElementById('start-btn').style.display = 'none';
                document.getElementById('back-to-name-btn').style.display = 'block';
            } else {
                alert("Please enter your name.");
            }
        });

        document.getElementById('user-name').addEventListener('focus', () => {
            document.getElementById('user-name').value = userName;
        });

        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedCategory = btn.getAttribute('data-category');
                document.getElementById('start-btn').style.display = 'block'; 
            });
        });

        document.getElementById('start-btn').addEventListener('click', startQuiz);
        document.getElementById('back-to-name-btn').addEventListener('click', () => {
            document.getElementById('home-page').classList.add('active');
            document.getElementById('category-heading').style.display = 'none'; 
            document.getElementById('category-options').style.display = 'none'; 
            document.getElementById('start-btn').style.display = 'none'; 
            document.getElementById('back-to-name-btn').style.display = 'none';
        });

        function startQuiz() {
            questionIndex = 0;
            score = 0;
            quizStartTime = Date.now();
            document.getElementById('home-page').classList.remove('active');
            document.getElementById('quiz-page').classList.add('active');
            document.getElementById('quiz-category').innerText = selectedCategory;
            document.getElementById('question-number').innerText = `Question 1`;
            showQuestion();
        }

        function showQuestion() {
            const questionData = categories[selectedCategory][questionIndex];
            const questionBox = document.createElement('div');
            questionBox.classList.add('question-box');
            questionBox.innerText = questionData.question; 
            document.getElementById('question').innerHTML = ""; 
            document.getElementById('question').appendChild(questionBox); 

            document.getElementById('options').innerHTML = ''; 
            questionData.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.innerText = option;
                button.classList.add('option-btn');
                button.addEventListener('click', () => checkAnswer(index));
                document.getElementById('options').appendChild(button);
            });

            startTimer();
        }

        function startTimer() {
            let timeLeft = 10;
            document.getElementById('timer').innerText = `Time Left: ${timeLeft}s`;
            timer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').innerText = `Time Left: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    showCorrectAnswer(); 
                }
            }, 1000);
        }

        function checkAnswer(selectedOption) {
            clearInterval(timer);
            const questionData = categories[selectedCategory][questionIndex];
            if (selectedOption === questionData.answer) {
                score++; 
            }
            showCorrectAnswer();
        }
        let currentQuestionIndex = 0;

        document.getElementById('next-btn').addEventListener('click', () => {
            currentQuestionIndex++;
            updateQuestionNumber();
        });

        function updateQuestionNumber() {
            document.getElementById('question-number').innerText = `Question ${currentQuestionIndex + 1}`;
        }

        // Initialize with first question number
        updateQuestionNumber();

        function showCorrectAnswer() {
            const questionData = categories[selectedCategory][questionIndex];
            const correctAnswer = questionData.answer;
            const optionButtons = document.querySelectorAll('.option-btn');
            optionButtons.forEach((btn, index) => {
                if (index === correctAnswer) {
                    btn.classList.add('correct-answer');
                }
            });

            document.getElementById('score').innerText = `Score: ${score}`; 

            questionIndex++;

            if (questionIndex < categories[selectedCategory].length) {
                document.getElementById('next-btn').style.display = 'block'; 
                document.getElementById('submit-btn').style.display = 'none'; 
            } else {
                document.getElementById('next-btn').style.display = 'none'; 
                document.getElementById('submit-btn').style.display = 'block'; 
            }
        }

        document.getElementById('next-btn').addEventListener('click', () => {
            document.getElementById('next-btn').style.display = 'none';
            showQuestion();
        });

        document.getElementById('submit-btn').addEventListener('click', () => {
            totalTimeTaken = Math.floor((Date.now() - quizStartTime) / 1000); 
            showResults();
        });

        function showResults() {
            clearInterval(timer); 
            document.getElementById('quiz-page').classList.remove('active');
            document.getElementById('results-page').classList.add('active');
            document.getElementById('result-name').innerText = userName;
            document.getElementById('total-time').innerText = totalTimeTaken; 
            document.getElementById('attempted-questions').innerText = categories[selectedCategory].length;
            document.getElementById('correct-answers').innerText = score;
            document.getElementById('wrong-answers').innerText = categories[selectedCategory].length - score;
            const percentage = (score / categories[selectedCategory].length) * 100;
            document.getElementById('percentage').innerText = percentage.toFixed(2);
        }

        document.getElementById('start-again-btn-results').addEventListener('click', () => {
            resetGame();
            document.getElementById('category-heading').style.display = 'block'; 
            document.getElementById('category-options').style.display = 'flex'; 
            document.getElementById('start-btn').style.display = 'none'; 
            document.getElementById('results-page').classList.remove('active'); 
            document.getElementById('home-page').classList.add('active'); 
        });

        document.getElementById('home-btn-results').addEventListener('click', () => {
            resetGame();
            document.getElementById('home-page').classList.add('active'); 
            document.getElementById('results-page').classList.remove('active'); 
        });

        function resetGame() {
            userName = '';
            selectedCategory = '';
            score = 0;
            questionIndex = 0;
            totalTimeTaken = 0;
            document.getElementById('user-name').value = '';
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('category-heading').style.display = 'none'; 
            document.getElementById('category-options').style.display = 'none'; 
            document.getElementById('back-to-name-btn').style.display = 'none';
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.disabled = false; 
                btn.classList.remove('selected'); 
            });
            document.getElementById('score').innerText = `Score: ${score}`; 
        }
    </script>
</body>
</html>
